<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acceso de Administrador - Teko</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body { background-color: #f8f9fa; }
        .login-container { max-width: 400px; margin: 10vh auto; padding: 30px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); background-color: white; }
    </style>
</head>

<body>
    <div class="container">
        <div class="login-container">
            <h2 class="text-center mb-4">Acceso de Administrador</h2>
            
            <form id="loginForm">
                <div class="mb-3">
                    <label for="username" class="form-label">Usuario</label>
                    <input type="text" class="form-control" id="username" value="admin" required>
                </div>
                <div class="mb-4">
                    <label for="password" class="form-label">Contraseña</label>
                    <input type="password" class="form-control" id="password" value="teko2025" required>
                </div>
                
                <div class="alert alert-danger d-none" id="loginError" role="alert">
                    Usuario o contraseña incorrectos.
                </div>
                
                <button type="submit" class="btn btn-primary w-100">Iniciar Sesión</button>
            </form>
            
            <p class="text-center mt-3"><a href="./terrenos.html" class="text-muted small">Volver a Terrenos</a></p>
            <p class="text-center mt-3 small text-info">
                **Credenciales de Prueba:** Usuario: **admin**, Contraseña: **teko2025**
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const loginForm = document.getElementById('loginForm');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const loginError = document.getElementById('loginError');

            // 1. Verificar si ya está logeado
            if (sessionStorage.getItem('tekoAdminLoggedIn') === 'true') {
                window.location.href = './alta_terreno.html'; // Redirigir si ya está autenticado
                return;
            }

            // 2. Manejar el envío del formulario
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();

                const username = usernameInput.value;
                const password = passwordInput.value;

                // **Simulación de Autenticación (¡NO USAR EN PRODUCCIÓN!)**
                const VALID_USER = 'admin';
                const VALID_PASS = 'teko2025';

                if (username === VALID_USER && password === VALID_PASS) {
                    // Éxito: Guardar estado de sesión y redirigir
                    sessionStorage.setItem('tekoAdminLoggedIn', 'true');
                    sessionStorage.setItem('tekoUserName', username); // Opcional, para el asistente
                    loginError.classList.add('d-none');
                    
                    // Redirigir a la página de alta de terrenos
                    window.location.href = './alta_terreno.html';

                } else {
                    // Error: Mostrar mensaje
                    loginError.classList.remove('d-none');
                    passwordInput.value = ''; // Limpiar la contraseña
                }
            });
        });
    </script>
</body>

</html>